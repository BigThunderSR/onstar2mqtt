# OnStar2MQTT Environment Configuration
# Copy this file to .env and fill in your actual values
#
# NOTE: This format works with both Node.js and Docker
# Values are unquoted for maximum compatibility

# OnStar Configuration
# Required: Your OnStar account credentials
ONSTAR_VIN=1HGBH41JXMN109186
ONSTAR_USERNAME=your_onstar_username
ONSTAR_PASSWORD=your_onstar_password
ONSTAR_TOTP=your_totp_secret_key
ONSTAR_PIN=1234

# Authentication Mode (NEW - IMPORTANT FOR BOT DETECTION ISSUES)
# Options: auto, token-only, manual
# - auto (default): Use browser automation when needed
# - token-only: NEVER use browser automation, only load existing tokens
#               RECOMMENDED if you're experiencing bot detection/blocking issues
#               See docs/TOKEN_ONLY_MODE.md for setup instructions
# - manual: Prompt for manual token refresh when needed
ONSTAR_AUTH_MODE=auto

# Token Storage (HIGHLY RECOMMENDED - REQUIRED for token-only mode)
# Saves authentication tokens to avoid repeated login challenges
# For local Node.js: Set to ./tokens or leave empty for current directory
# For Docker: Set to /app/tokens and use -v ~/onstar2mqtt-tokens:/app/tokens
# IMPORTANT: In token-only mode, this MUST be set and tokens must exist
TOKEN_LOCATION=""

# Optional: OnStar settings
ONSTAR_DEVICEID=""
ONSTAR_SYNC=true
ONSTAR_REFRESH=1800000
ONSTAR_POLL_INTERVAL=6
ONSTAR_POLL_TIMEOUT=90
ONSTAR_ALLOW_COMMANDS=true

# MQTT Configuration
# Required: MQTT broker connection
MQTT_HOST=localhost
MQTT_USERNAME=your_mqtt_username
MQTT_PASSWORD=your_mqtt_password

# Optional: MQTT settings
MQTT_PORT=1883
MQTT_TLS=false
MQTT_REJECT_UNAUTHORIZED=true
MQTT_PREFIX=homeassistant
MQTT_NAME_PREFIX=""
MQTT_ONSTAR_POLLING_STATUS_TOPIC=""
MQTT_LIST_ALL_SENSORS_TOGETHER=false

# Optional: MQTT TLS Certificate files
MQTT_CA_FILE=""
MQTT_CERT_FILE=""
MQTT_KEY_FILE=""

# Optional: Logging
LOG_LEVEL=info
